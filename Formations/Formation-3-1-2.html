<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Formations</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>


</head>
<body>
    <div id="quarters" class="quarters">
        <div class="quarter" id="q1">
            <h2>Q1</h2>
            <div class="formation">
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
            </div>
        </div>
        <!-- Repeat the above block for Q2, Q3, Q4 -->
        <div class="quarter" id="q2">
            <h2>Q2</h2>
            <div class="formation">
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="quarter" id="q3">
            <h2>Q3</h2>
            <div class="formation">
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="quarter" id="q4">
            <h2>Q4</h2>
            <div class="formation">
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">Select..</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                    <select class="player-select">
                        <option value="">--Select--</option><option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
                <div class="row">
                    <select class="player-select">
                        <option value="">Select..</option> <option value="Player 1">Abi</option><option value="Player 2">Amaya</option><option value="Player 3">Belle</option><option value="Player 4">Ella</option><option value="Player 5">Issy</option><option value="Player 6">Jenna</option><option value="Player 7">Jodie</option><option value="Player 8">Lana</option>                   <option value="Player 9">Meg</option><option value="Player 10">Mimi</option><option value="Player 11">Paige</option><option value="Player 12">Ruby</option>                        <option value="Player 13">Sophia L</option><option value="Player 14">Sophia T</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div>
    <button onclick="exportDivToPDF('quarters')">Export Formations to PDF</button>
</div>

<div id="PlayerQs">
    <div id="playerCountDiv">
        <table id="playerCountTable">
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Q1</th>
                    <th>Q2</th>
                    <th>Q3</th>
                    <th>Q4</th>
                    <th>Total Quarters</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Player rows will be dynamically inserted here -->
            </tbody>
            <tfoot>
                <tr>
                    <td>Total Players</td>
                    <td id="total-q1">0</td>
                    <td id="total-q2">0</td>
                    <td id="total-q3">0</td>
                    <td id="total-q4">0</td>
                    <td id="total-quarters">0</td>
                </tr>
            </tfoot>
        </table>
        </div>
    


    <div>
        <table id="summaryTable">
            <thead>
                <tr>
                    <th>Summary</th>
                    <th>Minimum</th>
                    <th>Maximum</th>
                    <th>Average</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Quarters Played</td>
                    <td id="min-quarters">0</td>
                    <td id="max-quarters">0</td>
                    <td id="avg-quarters">0</td>
                </tr>
            </tbody>
        </table>
        
    </div>
    
</div>

<div><button onclick="exportDivToPDF('PlayerQs')">Export Player Qs to PDF</button></div>

    <script src="script.js"></script>
    
    <script>
        function exportDivToPDF(divId) {
         const element = document.getElementById(divId);
         
         // Ensure all images are loaded before converting to PDF
         const images = element.getElementsByTagName('img');
         const promises = Array.from(images).map(img => {
             return new Promise((resolve, reject) => {
                 if (!img.complete) {
                     img.onload = () => {
                         console.log('Image loaded: ' + img.src);
                         resolve();
                     };
                     img.onerror = () => {
                         console.error('Image failed to load: ' + img.src);
                         reject(new Error('Image failed to load: ' + img.src));
                     };
                 } else {
                     console.log('Image already loaded: ' + img.src);
                     resolve();
                 }
             });
         });

         Promise.all(promises).then(() => {
             console.log('All images loaded, proceeding with PDF export.');
             const opt = {
                 margin:       0.5,
                 filename:     'div-content.pdf',
                 image:        { type: 'jpeg', quality: 0.98 },
                 html2canvas:  { scale: 2, useCORS: true },
                 jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
             };

             // Convert to PDF
             html2pdf().set(opt).from(element).save().catch((error) => {
                 console.error('Error exporting div content to PDF:', error);
             });
         }).catch((error) => {
             console.error('Error loading images:', error);
         });
     }
 </script>
</body>
</html>
